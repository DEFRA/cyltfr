# Watch a single javascript bundle
#
# Usage
# npm run watch:js -- core
# npm run watch:js -- search
# npm run watch:js -- map

case "$1" in

'core')
  echo "Watching core.js"
  watchify assets/javascripts/core/index.js -d -o 'exorcist public/javascripts/core.js.map > public/javascripts/core.js'
  ;;
'search')
  echo "Watching search.js"
  watchify assets/javascripts/search/index.js -d -o 'exorcist public/javascripts/search.js.map > public/javascripts/search.js'
  ;;
'map')
  echo "Watching map.js"
  watchify assets/javascripts/map/index.js -t hbsfy -d -o 'exorcist public/javascripts/map.js.map > public/javascripts/map.js'
  ;;
*)
  echo "Script '$1' is not found - exiting"
  ;;

esac
